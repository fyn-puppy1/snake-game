<!DOCTYPE html>
<html>
<head>
  <title>Snake Game</title>
  <style>
    body {
      text-align: center;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #f6d365, #fda085);
      margin: 0;
      padding: 0;
    }
    h1 {
      margin-top: 30px;
      color: #333;
    }
    #startScreen, #gameScreen {
      display: none;
    }
    #startScreen {
      display: block;
    }
    canvas {
      border: 4px solid #333;
      background-color: #fffbe6;
      display: block;
      margin: 20px auto;
    }
    .btn {
      padding: 12px 24px;
      font-size: 18px;
      margin: 10px 5px;
      cursor: pointer;
      background-color: #ff6f61;
      color: white;
      border: none;
      border-radius: 8px;
      transition: background 0.3s;
    }
    .btn:hover {
      background-color: #e8574d;
    }
    #score {
      font-size: 22px;
      margin-top: 10px;
      color: #222;
    }
    #mobile-controls {
      display: none;
    }
    .arrow-btn {
      width: 70px;
      height: 70px;
      font-size: 24px;
      margin: 5px;
    }
    @media (max-width: 768px) {
      #mobile-controls {
        display: block;
      }
      canvas {
        width: 100%;
        height: auto;
      }
    }
  </style>
</head>
<body>

<!-- Start Screen -->
<div id="startScreen">
  <h1>Welcome to Snake Game üêç</h1>
  <button class="btn" onclick="startGame()">Start Game</button>
</div>

<!-- Game Screen -->
<div id="gameScreen">
  <h1>Snake Game</h1>
  <div id="score">Score: 0</div>
  <canvas id="gameCanvas" width="600" height="400"></canvas>
  <div>
    <button class="btn" onclick="pauseGame()">Pause</button>
    <button class="btn" onclick="continueGame()">Continue</button>
    <button class="btn" onclick="restartGame()">Restart</button>
  </div>

  <!-- Mobile Controls -->
  <div id="mobile-controls">
    <div>
      <button class="btn arrow-btn" onclick="changeDirection('UP')">‚¨ÜÔ∏è</button>
    </div>
    <div>
      <button class="btn arrow-btn" onclick="changeDirection('LEFT')">‚¨ÖÔ∏è</button>
      <button class="btn arrow-btn" onclick="changeDirection('DOWN')">‚¨áÔ∏è</button>
      <button class="btn arrow-btn" onclick="changeDirection('RIGHT')">‚û°Ô∏è</button>
    </div>
  </div>
</div>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
const scoreDisplay = document.getElementById("score");
const startScreen = document.getElementById("startScreen");
const gameScreen = document.getElementById("gameScreen");

const box = 20;
let snake, direction, food, score, speed, game, paused;

function startGame() {
  startScreen.style.display = "none";
  gameScreen.style.display = "block";
  initGame();
}

function initGame() {
  snake = [{ x: 200, y: 200 }];
  direction = "RIGHT";
  food = randomFood();
  score = 0;
  speed = 150;
  paused = false;
  updateScore();
  if (game) clearInterval(game);
  game = setInterval(draw, speed);
}

function randomFood() {
  const maxX = canvas.width / box;
  const maxY = canvas.height / box;
  return {
    x: Math.floor(Math.random() * maxX) * box,
    y: Math.floor(Math.random() * maxY) * box
  };
}

document.addEventListener("keydown", e => {
  const key = e.key;
  if (key === "ArrowUp" && direction !== "DOWN") direction = "UP";
  else if (key === "ArrowDown" && direction !== "UP") direction = "DOWN";
  else if (key === "ArrowLeft" && direction !== "RIGHT") direction = "LEFT";
  else if (key === "ArrowRight" && direction !== "LEFT") direction = "RIGHT";
});

function changeDirection(dir) {
  if (dir === "UP" && direction !== "DOWN") direction = "UP";
  else if (dir === "DOWN" && direction !== "UP") direction = "DOWN";
  else if (dir === "LEFT" && direction !== "RIGHT") direction = "LEFT";
  else if (dir === "RIGHT" && direction !== "LEFT") direction = "RIGHT";
}

function updateScore() {
  scoreDisplay.textContent = "Score: " + score;
}

function draw() {
  if (paused) return;

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  for (let i = 0; i < snake.length; i++) {
    ctx.fillStyle = i === 0 ? "#28a745" : "#7CFC00";
    ctx.fillRect(snake[i].x, snake[i].y, box, box);
  }

  ctx.fillStyle = "#e74c3c";
  ctx.beginPath();
  ctx.arc(food.x + box / 2, food.y + box / 2, box / 2, 0, Math.PI * 2);
  ctx.fill();

  let head = { ...snake[0] };
  if (direction === "LEFT") head.x -= box;
  else if (direction === "RIGHT") head.x += box;
  else if (direction === "UP") head.y -= box;
  else if (direction === "DOWN") head.y += box;

  if (head.x === food.x && head.y === food.y) {
    score++;
    updateScore();
    food = randomFood();
    if (score % 5 === 0) {
      speed = Math.max(50, speed - 10);
      clearInterval(game);
      game = setInterval(draw, speed);
    }
  } else {
    snake.pop();
  }

  if (
    head.x < 0 || head.x >= canvas.width ||
    head.y < 0 || head.y >= canvas.height ||
    snake.some(seg => seg.x === head.x && seg.y === head.y)
  ) {
    clearInterval(game);
    alert("Game Over! Your score was " + score);
    return;
  }

  snake.unshift(head);
}

function pauseGame() {
  paused = true;
}

function continueGame() {
  if (!paused) return;
  paused = false;
  draw();
}

function restartGame() {
  initGame();
}
</script>

</body>
</html>
